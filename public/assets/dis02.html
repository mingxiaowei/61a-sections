<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Discussion 02</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/black.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/night-owl.min.css">

    <!-- fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>

    <!-- icon -->
    <link rel="icon" href="https://mingxiaowei.github.io/61a-sections/public/images/favicon.ico" sizes="32x32">

    <!-- link to bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <!-- link to bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">

    <script src="plugin/highlight/highlight.js"></script>

</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="customizable">
                <div class="my-auto mx-auto">
                    <h2>Discussion 02</h2>
                    <hr class="hr-1">
                    <p>Environment Diagrams, Higher-Order Functions</p>
                </div>
                <br>
                <br>

                <footer class="bottom-left">
                    <!-- <hr> -->
                    <p>Mingxiao Wei</p>
                    <p><a href="mailto:mingxiaowei@berkeley.edu" class="email"
                            style="color:#8BC24A; text-decoration: underline;">
                            mingxiaowei@berkeley.edu</a>
                        <span class="text-end">Feb 1, 2022</span>
                    </p>

                </footer>
                <canvas class="background"></canvas>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h3 class="text-start">Logistics üè°</h3>
                <hr>
                <ul class="spaced" style="font-size: 28px; line-height: 1.3;">
                    <li>Homework 02 due today 09/08 @ 11:59pm</li>
                    <li>Hog üé≤üé≤üé≤
                        <ul>
                            <li>You can choose to work alone or in group of 2
                                <ul>
                                    <li>
                                        If you work with a partner, only one of you need to submit and add the other on
                                        okpy!
                                    </li>
                                </ul>
                            </li>
                            <li>The whole project due next Fri 09/09</li>
                            <li>Submit the whole project by today 09/08 for one extra point!</li>
                        </ul>
                    </li>
                    <li>First round of scores are out on <a href="https://howamidoing.cs61a.org/">howamidoing</a> -
                        if there's any discrepancy in your attendance for
                        sections, please email me and include <code class="hljs python">CS 61A</code> in the title!</li>
                    <li>Homework 01 Recovery - due next Mon 09/12, check out <a
                            href="https://edstem.org/us/courses/25379/discussion/1735511">Ed post #576</a> for more
                        details</li>
                    <li>Section change deadline is next Wed 09/14
                        <ul>
                            <li>
                                If you'd like to switch to other sections, check <a
                                    href="https://sections.cs61a.org">sections.cs61a.org</a> for open ones!
                            </li>
                        </ul>
                    </li>

                </ul>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h3 class="text-start">About Midterm 1 üêø</h3>
                <hr>
                <ul class="spaced" style="font-size: 26px; line-height: 1.2;">
                    <li class="shade"><b>Default: Next Monday (09/12) 7-9pm, in-person, right-handed desk</b>
                    </li>
                    <li>If you need any type of accommodations (left-handed desk, remote exam, alternate time, extended
                        time, etc.), please <a href="http://go.cs61a.org/exam-alts">fill out this form</a> by tomorrow
                        09/09!!
                    </li>
                    <li>Check out <a href="https://edstem.org/us/courses/25379/discussion/1739561">Ed post #667</a> for
                        more details!</li>
                    <li>Pro Tips
                        <ul>
                            <li>Make sure you are (somewhat) comfortable with all the topics in scope
                            </li>
                            <li>Attend exam review sessions (mentioned in the post above) if you'd like more review by
                                topic </li>
                            <li>Familiarize yourself with the <a
                                    href="https://cs61a.org/assets/pdfs/61a-mt1-study-guide.pdf">study guide</a>
                                beforehand</li>
                            <li>Do <a href="https://cs61a.org/resources/">past exams</a>
                                <ul>
                                    <li>Check out <a href="https://edstem.org/us/courses/25379/discussion/1740922">Ed
                                            post #678</a>
                                        to see which exam questions are in scope for this semester</li>
                                    <li>For each question, make sure you understand it before moving on to the next exam
                                    </li>
                                    <li>Consult walkthrough videos! They are super helpful </li>
                                    <li>Post on Ed thread / come to OH for help
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Call Expressions ‚òéÔ∏è</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Function Values</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li>Values that represent functions, also known as function objects</li>
                        <li>In general, there are 2 parts to a function:
                            <ul>
                                <li>
                                    The code (function body), represented by the intrinsic name
                                </li>
                                <li class="shade">The parent frame - where the function is <i><b>defined</b></i></li>
                            </ul>
                        </li>
                        <li class="shade">The function body is not evaluated until we call the function!</li>
                        <li>To call a function, write the name of the variable that corresponds to the function value,
                            write a parenthesis, and put all parameters for the function, if any - this is just a call
                            expression</li>
                    </ul>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Function Values</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li><span class="shade">Intrinsic name</span>
                            <ul>
                                <li>For a function defined using the <code class="hljs python">def</code> statement, for
                                    example:
                                    <pre class="my-2"><code class="hljs python py-2" data-trim data-line-numbers>
                                        def some_func (x, y):
                                            return x * 2 + y * 5
                                    </code></pre>
                                    Here <code class="hljs python">some_func</code> is the intrinsic name
                                </li>
                                <li>
                                    For a lambda function, its intrinsic is just <code class="hljs python">Œª</code>.
                                    <ul>
                                        <li>To differentiate between lambda functions, we often add the line number
                                            where the lambda is defined. For example:
                                            <pre class="my-2"><code class="hljs python py-2" data-trim data-line-numbers>
                                                    # global frame
                                                    other_func = lambda x, y: x * 2 + y * 5
                                                </code></pre>
                                            Here <code class="hljs python">other_func</code> will be represented as
                                            <code class="hljs python">Œª(x, y) &lt;line 2&gt;</code> in the environment
                                            diagram
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Function Values</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">

                    <pre class="my-2"><code class="hljs python py-2" data-trim>
                    def go (bears):
                        print(print(bears))
                        print('GO BEARS!')
                        return 'gob ears'
                </code></pre>
                    <pre class="my-2"><code class="hljs python-repl py-2" data-trim data-noescape>
                    >>> go
                    <span class="fragment">Function</span>
                    >>> go('bruh')
                    <span class="fragment">bruh</span>
                    <span class="fragment">None</span>
                    <span class="fragment">GO BEARS!</span>
                    <span class="fragment">'gob ears'</span>
                </code></pre>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Evaluating a call expression</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    <ol class="spaced">
                        <li>Evaluate the operator, which should evaluate to a function value.</li>
                        <li>Evaluate the operands from left to right.
                        </li>
                        <li>Draw a new frame, labelling it with the following:
                            <ul>
                                <li>A unique index (<code class="hljs python">f1</code>, <code
                                        class="hljs python">f2</code>, <code class="hljs python">f3</code>, ...)</li>
                                <li>The intrinsic name of the function, which is also the name of the function object itself
                                </li>
                                <li>The parent frame (<code class="hljs python">[parent = ...]</code>)</li>
                            </ul>
                        </li>
                        <li>Bind the formal parameters to the argument values obtained in step #2</li>
                        <li>Evaluate the body of the function in this new frame until a return value is
                            obtained. Write down the return value in the frame.</li>
                    </ol>
                    <div class="text-start">
                        <p style="line-height: 1;">* If a function does not have a return value, it implicitly returns
                            <code class="hljs python">None</code>
                        </p>
                        <p style="line-height: 1;">* For built-in or imported functions like <code
                                class="hljs python">abs</code> and <code class="hljs python">add</code>, we do not need
                            to
                            draw a new frame when calling them</p>
                    </div>

                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Environment Diagrams üõ§</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Evaluation Rules</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    <span class="shade" style="font-size: 32; line-height: 1.5;"><b>Call Expressions</b></span>
                    <ol class="spaced">
                        <li>Evaluate the operator, which should evaluate to a function value.</li>
                        <li>Evaluate the operands from left to right.
                        </li>
                        <li>Draw a new frame, labelling it with the following:
                            <ul>
                                <li>A unique index (<code class="hljs python">f1</code>, <code
                                        class="hljs python">f2</code>, <code class="hljs python">f3</code>, ...)</li>
                                <li>The intrinsic name of the function, which is the name of the function object itself
                                </li>
                                <li>The parent frame (<code class="hljs python">[parent = ...]</code>)</li>
                            </ul>
                        </li>
                        <li>Bind the formal parameters to the argument values obtained in step #2</li>
                        <li>Evaluate the body of the function in this new frame until a return value is
                            obtained. Write down the return value in the frame.</li>
                    </ol>
                    <div class="text-start">
                        <p style="line-height: 1;">* If a function does not have a return value, it implicitly returns
                            <code class="hljs python">None</code>
                        </p>
                        <p style="line-height: 1;">* For built-in or imported functions like <code
                                class="hljs python">abs</code> and <code class="hljs python">add</code>, we do not need
                            to
                            draw a new frame when calling them</p>
                    </div>

                </div>
            </section>


            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Evaluation Rules</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.2;">
                    <span class="shade" style="font-size: 32; line-height: 1.5;"><b>Assignment Statements</b></span>
                    <ol>
                        <li>Evaluate all of the expressions on the RHS of the assignment operator (the single equal
                            sign) from left to right</li>
                        <li>Bind all the names on the LHS to the resulting values in the current frame</li>
                        <p style="line-height: 1">* Names can only bind to values, not other names!</p>
                    </ol>
                    <pre class="my-0 py-0"><code class="hljs python py-2" data-trim data-noescape>
                        a, b = 1, 2
                        a, b = b, a 
                        # In Python, you can swap the values of multiple variables in one line
                        a, b = b + 1, a + b 
                        # If there are multiple arguments to print, they will be seperated 
                        # by a whitespace in the outputted line
                        print("a =", a, ", b =", b)
                        <span class="fragment"># output: a = 3, b = 3</span>
                    </code></pre>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Evaluation Rules</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.2;">
                    <span class="shade" style="font-size: 32; line-height: 1.5;"><b>Variable Lookup</b></span>
                    <ol>
                        <li>Look it up in the current frame</li>
                        <li>If not found, go look in the parent frame, and up and up until global. If it's not there,
                            then error. </li>
                        <p style="line-height: 1">* Built-in functions like <code class="hljs python">max</code> and
                            <code class="hljs python">min</code> are usually not displayed on the environment diagram.
                        </p>
                    </ol>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Environment Diagrams</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.2;">
                    <ul>
                        <li>
                            An environment diagram keeps track of all the variables that have been defined and the
                            values they are bound to.
                        </li>
                        <li>Frames
                            <ul>
                                <li>By default, we start with the global frame</li>
                                <li>A new frame is created whenever a function is called - though we don't need to draw
                                    the frames for built-in functions</li>
                                <li>For each frame (except for the global frame):
                                    <ul>
                                        <li>Write down the intrinsic name of the function and its parent frame</li>
                                        <li>When the function returns, write the the return value for that frame</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>Bindings
                            <ul>
                                <li>Keep track of the values corresponding to each variable</li>
                                <li>Created when there's an assignment statement/def statement or when calling a
                                    function - we need to bind its parameters to their values after opening a new frame
                                    for the call</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet - Q1, 2</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Lambda Expressions üêë</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Lambda Expressions</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.2;">
                    <ul class="spaced">
                        <li>
                            A lambda expression evaluates to <span class="shade">function values</span> but does not
                            bind it to a name, unless we bind it to some names using assignment statements
                        </li>
                        <li>Anatomy:
                            <pre class="my-2" style="min-width:100%"><code class="hljs python" data-trim>
                                f = lambda &lt;p1&gt;, &lt;p2&gt;, ...: &lt;returned expr&gt;
                            </code></pre>
                            This is equivalent to (though not the same as)
                            <pre class="my-2" style="min-width:100%"><code class="hljs python" data-trim>
                            def f (&lt;p1&gt;, &lt;p2&gt;, ...):
                                return &lt;returned expr&gt;
                            </code></pre>
                        </li>
                        <li>Similarly, the return expression of a lambda function is not evaluated until the lambda is
                            called</li>
                        <li>Unlike <code class="hljs python">def</code> statements, lambda expressions can be used as an
                            operator or an operand to a call
                            expression. This is because they are simply one-line expressions that <span
                                class="shade">evaluate to functions</span>
                        </li>
                    </ul>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Lambda Expressions</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    Example of using lambda expressions directly as operators:
                    <pre><code class="hljs python-repl py-4" data-trim data-noescape data-line-numbers>
                    >>> (lambda y: y + 5)(4)
                    9
                    >>> (lambda f, x: f(x))(lambda y: y + 1, 10)
                    11
                </code></pre>
                    Bonus: draw the environment diagram when evaluating the second line!
                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet - Q3</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Higher Order Functions üèî</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Higher Order Functions</h4>
                <hr>
                <div class="text-start" style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li>A <span class="shade">higher order function (HOF)</span> is a function that manipulates
                            other
                            functions by taking in functions as arguments, returning a function, or both.</li>
                    </ul>
                    <pre><code class="hljs python py-4" data-trim data-noescape data-line-numbers>
                    def composer (func1, func2):
                        """Return a function f, such that f(x) = func1(func2(x))."""
                        def f (x):
                            return func1(func2(x))
                        return f
                    </code></pre>

                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet - Q4,5,6</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Currying üçõ</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Currying</h4>
                <hr>
                <div class="text-start" style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li>Currying - converting a function that takes multiple arguments into a chain of functions
                            that each take a single argument</li>
                    </ul>
                    <pre><code class="hljs python py-4" data-trim data-noescape data-line-numbers>
                    def curried_pow (x):
                        def h (y):
                            return pow(x, y)
                        return h
                    curried_pow(2)(3) # same as pow(2, 3)
                    </code></pre>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Currying</h4>
                <hr>
                <div class="text-start" style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li>Why is it useful?</li>
                        <div class="row g-0">
                            <div class="col-6">
                                <pre><code class="hljs python-repl" data-trim>
                            >>> pow (2, 3)
                            8
                            >>> pow (2, 4)
                            16
                            >>> pow (2, 10)
                            1024
                        </code></pre>
                            </div>
                            <div class="col-6">
                                <pre><code class="hljs python-repl" data-trim>
                            >>> pow_2 = curried_pow(2)
                            >>> pow_2(3)
                            8
                            >>> pow_2(4)
                            16
                            >>> pow_2(10)
                            1024
                        </code></pre>
                            </div>
                        </div>
                        <li>In contexts where only one-argument functions are allowed, such as with the <code
                                class="hljs python">map</code> function, which applies a one-argument function to every
                            term in a sequence, we can curry a multiple-argument function into
                            a one-argument function</li>
                    </ul>
                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet - Q7</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to bottom, #0C5D87, #002C42)"
                class="reg-cus">
                <h2 class="text-start">Attendance! ü§†</h2>
                <hr>
                <a href="https://go.cs61a.org/mingxiao-att" style="font-size: 40px">go.cs61a.org/mingxiao-att</a>
                <div class="text-start" style="font-size: 36px">
                    <br>
                    <ul>
                        <li>The attendance form and slides are both linked on our <a
                                href="https://go.cs61a.org/mingxiao-index">section website</a>!</li>
                    </ul>
                </div>
            </section>

        </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
        Reveal.configure({ pdfSeparateFragments: false });
    </script>

    <script>
        window.onload = function () {
            Particles.init({
                selector: '.background',
                color: ['#334C75', '#D4A561', '#0C5D87'],
                connectParticles: true,
                maxParticles: 100,
            });
        };

    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.2/particles.min.js"></script>
</body>

</html>