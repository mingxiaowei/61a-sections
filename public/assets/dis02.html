<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Discussion 02</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/black.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/night-owl.min.css">

    <!-- fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>

    <!-- icon -->
    <link rel="icon" href="https://mingxiaowei.github.io/61a-sections/public/images/favicon.ico" sizes="32x32">

    <!-- link to bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <!-- link to bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">

    <script src="plugin/highlight/highlight.js"></script>

</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="customizable">
                <div class="my-auto mx-auto">
                    <h1>Discussion 02</h1>
                    <hr class="hr-1">
                    <p>Environment Diagrams, Higher-Order Functions</p>
                </div>
                <br>
                <br>

                <footer class="bottom-left">
                    <!-- <hr> -->
                    <p>Mingxiao Wei</p>
                    <p><a href="mailto:mingxiaowei@berkeley.edu" class="email"
                            style="color:#8BC24A; text-decoration: underline;">
                            mingxiaowei@berkeley.edu</a>
                        <span class="text-end">Feb 2, 2022</span>
                    </p>

                </footer>
                <canvas class="background"></canvas>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to bottom, #0C5D87, #002C42)"
                class="reg-cus">
                <h4 class="text-start">From last time... üëÄ</h4>
                <hr>
                <!-- <p class="text-start" style="line-height: 1; font-size: 28px;">What's the best time of the day?</p> -->
                <img class="mt-0" data-src="media\sp23-dis02-att.png" style="height: 450px; width:auto;">
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h3 class="text-start">Logistics üè°</h3>
                <hr>
                <ul class="spaced" style="font-size: 28px; line-height: 1.3;">
                    <li>Homework 02 due today 02/02 @ 11:59pm</li>
                    <li>Hog üé≤üé≤üé≤
                        <ul>
                            <li>You can choose to work alone or in group of 2
                                <ul>
                                    <li>
                                        If you work with a partner, only one of you need to submit and add the other on
                                        Gradescope!
                                    </li>
                                </ul>
                            </li>
                            <li>Checkpoint 1 due next Tue 02/07</li>
                            <li>The whole project due next Fri 02/10</li>
                            <li>Submit the whole project by next Thu 02/09 for one extra point!</li>
                        </ul>
                    </li>
                    <li>Sign up for <a href="https://edstem.org/us/courses/34756/discussion/2463035">tutoring
                            sections</a> or <a href="https://edstem.org/us/courses/34756/discussion/2493301">CSM
                            sections</a>
                        <ul class="spaced">
                            <li>Not required, but a good place to go if you want more practice!</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h3 class="text-start">About Midterm 1 üêø</h3>
                <hr>
                <p class="text-start" style="font-size: 26px; line-height: 1;">Yes, it's coming ... </p>
                <ul class="spaced" style="font-size: 26px; line-height: 1.2;">
                    <li class="shade"><b>Default: Next Monday (02/06) 7-9pm, in-person, right-handed desk</b>
                    </li>
                    <li>If you need any type of accommodations (left-handed desk, remote exam, alternate time, extended
                        time, etc.), please <a href="http://go.cs61a.org/exam-alts">fill out this form</a> by today!!
                    </li>
                    <li>Check out <a href="https://edstem.org/us/courses/34756/discussion/2465121">Ed post #376</a> for
                        more details!</li>
                    <li>Pro Tips
                        <ul>
                            <li>Make sure you are (somewhat) comfortable with all the topics in scope
                            </li>
                            <li>Familiarize yourself with the <a
                                    href="https://cs61a.org/assets/pdfs/61a-mt1-study-guide.pdf">study guide</a>
                                beforehand
                                <ul>
                                    <li>
                                        This was from last semester; the updated version will be linked in the <a
                                            href="https://edstem.org/us/courses/34756/discussion/2465121">midterm
                                            logistics post</a> once it's ready
                                    </li>
                                </ul>
                            </li>
                            <li>Do <a href="https://cs61a.org/resources/">past exams</a>
                                <ul>
                                    <li>For each question, make sure you understand it before moving on to the next exam
                                    </li>
                                    <li>Consult walkthrough videos! They are super helpful </li>
                                    <li>Post on Ed <a
                                            href="https://edstem.org/us/courses/34756/discussion/2470153">thread</a> /
                                        come to OH for help</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Higher Order Functions üèî</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Higher Order Functions</h4>
                <hr>
                <div class="text-start" style="font-size: 28px; line-height: 1.3;">
                    <ul class="spaced">
                        <li>A <span class="shade">higher order function (HOF)</span> is a function that manipulates
                            other
                            functions by taking in functions as arguments, returning a function, or both.</li>
                        <li>HOFs are powerful abstraction tools that allow us to express certain general patterns as
                            named concepts in our programs.</li>
                    </ul>
                    <pre><code class="hljs python py-4" data-trim data-noescape data-line-numbers>
                    def composer (func1, func2):
                        """Return a function f, such that f(x) = func1(func2(x))."""
                        def f (x):
                            return func1(func2(x))
                        return f
                    </code></pre>

                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Rules of Variable Lookup</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.2;">
                    <ol class="spaced">
                        <li>Look it up in the current frame</li>
                        <li>If not found, go look in the parent frame, and up and up until global. If it's not there,
                            throw an error. </li>
                        <p style="line-height: 1">* Built-in functions like <code class="hljs python">max</code> and
                            <code class="hljs python">min</code> are usually not displayed on the environment diagram.
                        </p>
                    </ol>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Higher Order Functions</h4>
                <hr>
                <iframe width="1200" height="500" frameborder="0"
                    src="https://pythontutor.com/iframe-embed.html#code=x%20%3D%204%0Adef%20add_num%28x%29%3A%0A%20%20%20%20return%20lambda%20y%3A%20x%20%2B%20y%0A%0Aadd_two%20%3D%20add_num%282%29%0Aadd_two%283%29&codeDivHeight=400&codeDivWidth=350&cumulative=true&curInstr=0&origin=composingprograms.js&py=3&rawInputLstJSON=%5B%5D">
                </iframe>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet Q4</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Currying üçõ</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Currying</h4>
                <hr>
                <div class="text-start" style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li>Currying - converting a function that takes multiple arguments into a chain of functions
                            that each take a single argument</li>
                    </ul>
                    <pre><code class="hljs python py-4" data-trim data-noescape data-line-numbers>
                    def curried_pow (x):
                        def h (y):
                            return pow(x, y)
                        return h
                    curried_pow(2)(3) # same as pow(2, 3)
                    </code></pre>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Currying</h4>
                <hr>
                <div class="text-start" style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li>Why is it useful?</li>
                        <div class="row g-0">
                            <div class="col-6">
                                <pre><code class="hljs python-repl" data-trim>
                            >>> pow (2, 3)
                            8
                            >>> pow (2, 4)
                            16
                            >>> pow (2, 10)
                            1024
                        </code></pre>
                            </div>
                            <div class="col-6">
                                <pre><code class="hljs python-repl" data-trim>
                            >>> pow_2 = curried_pow(2)
                            >>> pow_2(3)
                            8
                            >>> pow_2(4)
                            16
                            >>> pow_2(10)
                            1024
                        </code></pre>
                            </div>
                        </div>
                        <li>In <span class="bu">contexts where only one-argument functions are allowed</span>, such as
                            with the <code class="hljs python">map</code> function, which applies a one-argument
                            function to every
                            term in a sequence, we can curry a multiple-argument function into
                            a one-argument function</li>
                    </ul>
                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet Q6, 8, 7</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Call Expressions ‚òéÔ∏è</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Function Values</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    <ul class="spaced">
                        <li>Values that represent functions, also known as function objects</li>
                        <li>In general, there are 2 parts to a function:
                            <ul>
                                <li>
                                    The code (function body), represented by the intrinsic name
                                </li>
                                <li class="shade">The parent frame - where the function is <i><b>defined</b></i></li>
                            </ul>
                        </li>
                        <li class="shade">The function body is not evaluated until we call the function!
                        </li>
                        <li>To call a function, write the name of the variable that corresponds to the function value,
                            write a parenthesis, and put all parameters for the function, if any - this is just a call
                            expression</li>
                    </ul>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Function Values</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    <ul>
                        <li><span class="shade">Intrinsic name</span>
                            <ul>
                                <li>For a function defined using the <code class="hljs python">def</code> statement, for
                                    example:
                                    <pre class="my-2"><code class="hljs python py-2" data-trim data-line-numbers>
                                        def some_func (x, y):
                                            return x * 2 + y * 5
                                    </code></pre>
                                    Here <code class="hljs python">some_func</code> is the intrinsic name
                                </li>
                                <li>
                                    For a lambda function, its intrinsic name is just <code
                                        class="hljs python">Œª</code>.
                                    <ul>
                                        <li>To differentiate between lambda functions, we often add the line number
                                            where the lambda is defined. <br> For example:
                                            <pre class="my-2"><code class="hljs python py-2" data-trim data-line-numbers>
                                                    # global frame
                                                    other_func = lambda x, y: x * 2 + y * 5
                                                </code></pre>
                                            Here <code class="hljs python">other_func</code> will be represented as <br>
                                            <code class="hljs python">Œª(x, y) &lt;line 2&gt;</code> in the environment
                                            diagram
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to bottom, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Function Values</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">

                    <pre class="my-2"><code class="hljs python py-2" data-trim>
                    def go (bears):
                        print(print(bears))
                        print('GO BEARS!')
                        return 'gob ears'
                </code></pre>
                    <pre class="my-2"><code class="hljs python-repl py-2" data-trim data-noescape>
                    >>> go
                    <span class="fragment">Function</span>
                    >>> go('bruh')
                    <span class="fragment">bruh</span>
                    <span class="fragment">None</span>
                    <span class="fragment">GO BEARS!</span>
                    <span class="fragment">'gob ears'</span>
                </code></pre>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Evaluating a call expression</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.3;">
                    <ol class="spaced">
                        <li>Evaluate the operator, which should evaluate to a function value.</li>
                        <li>Evaluate the operands from left to right.
                        </li>
                        <li>Draw a new frame, labelling it with the following:
                            <ul>
                                <li>A unique index (<code class="hljs python">f1</code>, <code
                                        class="hljs python">f2</code>, <code class="hljs python">f3</code>, ...)</li>
                                <li>The intrinsic name of the function, which is also the name of the function object
                                    itself
                                </li>
                                <li>The parent frame (<code class="hljs python">[parent = ...]</code>)</li>
                            </ul>
                        </li>
                        <li>Bind the formal parameters to the argument values obtained in step #2</li>
                        <li>Evaluate the body of the function in this new frame until a return value is
                            obtained. Write down the return value in the frame.</li>
                    </ol>
                    <div class="text-start">
                        <p style="line-height: 1;">* If a function does not have a return value, it implicitly returns
                            <code class="hljs python">None</code>
                        </p>
                        <p style="line-height: 1;">* For built-in or imported functions like <code
                                class="hljs python">abs</code> and <code class="hljs python">add</code>, we do not need
                            to
                            draw a new frame when calling them</p>
                    </div>

                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet Q1-2</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Lambda Expressions üêë</h1>
                <hr>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Lambda Expressions</h4>
                <hr>
                <div style="font-size: 28px; line-height: 1.2;">
                    <ul class="spaced">
                        <li>
                            A lambda expression evaluates to <span class="shade">function values</span> but does not
                            bind it to a name, unless we bind it to some names using assignment statements
                        </li>
                        <li>Anatomy:
                            <pre class="my-2" style="min-width:100%"><code class="hljs python py-2" data-trim>
                                f = lambda &lt;p1&gt;, &lt;p2&gt;, ...: &lt;returned expr&gt;
                            </code></pre>
                            This is equivalent to (though not the same as)
                            <pre class="my-2" style="min-width:100%"><code class="hljs python py-2" data-trim>
                            def f (&lt;p1&gt;, &lt;p2&gt;, ...):
                                return &lt;returned expr&gt;
                            </code></pre>
                        </li>
                        <li>Similarly, the return expression of a lambda function is not evaluated until the lambda is
                            called</li>
                        <li>Unlike <code class="hljs python">def</code> statements, lambda expressions can be used as an
                            operator or an operand to a call
                            expression. This is because they are simply one-line expressions that <span
                                class="shade">evaluate to functions</span>
                        </li>
                    </ul>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Lambda Expressions</h4>
                <hr>
                <div style="font-size: 26px; line-height: 1.2; color: white;">
                    <table class="table table-bordered" style="color: white">
                        <thead>
                            <tr>
                                <th scope="col"></th>
                                <th scope="col"><code class="hljs python">lambda</code></th>
                                <th scope="col"><code class="hljs python">def</code></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Type</th>
                                <td>Expression that evaluates to a value</td>
                                <td>Statement that alters the environment</td>
                            </tr>
                            <tr>
                                <th scope="row">Results of execution</th>
                                <td>Creates an anonymous <code class="hljs python t">lambda</code> function with no
                                    intrinsic name.</td>
                                <td>Creates a function with an intrinsic name and binds it to that name in the current
                                    environment.</td>
                            </tr>
                            <tr>
                                <th scope="row">Effect on the environment</th>
                                <td>Does not create or modify any variables.</td>
                                <td>Both creates a new function object and binds it to a name
                                    in the current environment.</td>
                            </tr>
                            <tr>
                                <th scope="row">Usage</th>
                                <td>A lambda expression can be used anywhere that expects an expression,
                                    such as in an assignment statement or as the operator or operand to a call
                                    expression.</td>
                                <td>After executing a def statement, the created function is bound to a name. You should
                                    use this name to refer to the function anywhere that expects an expression.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section data-transition="slide" data-background-gradient="linear-gradient(to top, #00527C, #17b2c3)"
                class="reg-cus">
                <h4 class="text-start">Lambda Expressions</h4>
                <hr>
                <div style="font-size: 26px; line-height: 1.2; color: white;">
                    <pre class="mp0"><code class="hljs python-repl py-2" data-trim>
                        &gt;&gt;&gt; what = lambda x : x + 5
                        &gt;&gt;&gt; what
                        &lt;function &lt;lambda&gt; at ...&gt;
                        &gt;&gt;&gt; what(4)
                        9
                        &gt;&gt;&gt; (lambda y: y + 5)(4)
                        9
                        &gt;&gt;&gt; (lambda f, x: -f(x))(lambda y: y + 1, 10)
                        -11
                    </code></pre>
                </div>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to top, #0C5D87, #002C42)"
                class="reg-cus">
                <h1>Worksheet Q3</h1>
                <hr>
            </section>

            <section data-auto-animate data-background-gradient="linear-gradient(to bottom, #0C5D87, #002C42)"
                class="reg-cus">
                <h2 class="text-start">Attendance! ü§†</h2>
                <hr>
                <a href="https://go.cs61a.org/mingxiao-att" style="font-size: 40px">go.cs61a.org/mingxiao-att</a>
                <div class="text-start" style="font-size: 36px; line-height: 1.1;">
                    <br>
                    <ul class="spaced">
                        <li>The attendance form and slides are both linked on our section website!
                            <ul>
                                <li>
                                    <a href="https://go.cs61a.org/mingxiao-index">go.cs61a.org/mingxiao-index</a>
                                </li>
                            </ul>
                        </li>
                        <li class="shade">Please do remember to fill out the form by midnight today!!</li>
                    </ul>
                </div>
            </section>

        </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
        Reveal.configure({ pdfSeparateFragments: false });
    </script>

    <script>
        window.onload = function () {
            Particles.init({
                selector: '.background',
                color: ['#334C75', '#D4A561', '#0C5D87'],
                connectParticles: true,
                maxParticles: 100,
            });
        };

    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.2/particles.min.js"></script>
</body>

</html>